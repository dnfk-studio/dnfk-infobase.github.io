/* ========================================================
   DNFK Studios — site.css
   Orbit-Lines Pro v2.7：水玻璃深色化 · 導軌巡航微光 · 節點星芒/尾光 · 側欄星點+星座
   ======================================================== */

/* ====== 站台主題變數（Dark as default） ====== */
:root{
  --ink:#0a0f24;           /* 夜空深藍 */
  --ink-2:#0f1736;         /* 次層夜空 */
  --text:#e9f1ff;          /* 文字 */
  --line:#cfe1ff;          /* 細線顏色 */
  --muted:#9fb7e6;         /* 次要字/線 */
  --accent:#89b4ff;        /* 高光 */
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --sidebarW:240px;
  /* 水玻璃參數 */
  --glassTop: rgba(255,255,255,.16);
  --glassBot: rgba(255,255,255,.05);
  --glassShade: rgba(6,10,24,.42);
  --glassBlur: 16px;
  --glassSat: 170%;
}

/* 亮色主題 */
html[data-theme="light"]{
  --ink:#f6f8ff; --ink-2:#eaf0ff; --text:#0b1636; --line:#3a5b96; --muted:#5e78a8; --accent:#2f6cf6;
  --glassTop: rgba(255,255,255,.55);
  --glassBot: rgba(255,255,255,.28);
  --glassShade: rgba(10,20,40,.10);
  --glassBlur: 18px; --glassSat: 160%;
}

/* ====== Reset / Base ====== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  background: radial-gradient(1200px 900px at 70% 20%, var(--ink-2), var(--ink));
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans TC, PingFang TC, Microsoft JhengHei, Arial, sans-serif;
  overflow-x:hidden;
}

/* ====== 星空與閃爍 ====== */
#starfield{position:fixed; inset:0; z-index:-3}
.twinkle{position:fixed; inset:0; pointer-events:none; z-index:-2}
.twinkle span{position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; opacity:.6; animation:tw 6s infinite ease-in-out}
@keyframes tw{0%,100%{opacity:.2; transform:scale(.8)}50%{opacity:1; transform:scale(1.4)}}

/* ====== 首屏下層裝飾（魔法圓 + 交叉細線） ====== */
.intro-underlay{position:fixed; inset:0; pointer-events:none; z-index:1}
.intro-underlay.hide{opacity:0; transition:opacity .35s ease}
.intro-underlay.gone{display:none}
.intro-underlay .lines{display:none}
.intro-underlay::before{
  content:""; position:fixed; left:var(--sidebarW); right:0; top:50%; transform:translateY(-50%) scale(.9);
  height:clamp(300px,62vh,620px); margin:0 6vw;
  background-image:
    radial-gradient(circle at 50% 50%, rgba(137,180,255,.16), transparent 60%),
    radial-gradient(closest-side, transparent 96.4%, rgba(207,225,255,.85) 96.7%, transparent 97.2%),
    radial-gradient(closest-side, transparent 96.4%, rgba(207,225,255,.65) 96.7%, transparent 97.2%),
    radial-gradient(closest-side, transparent 96.4%, rgba(207,225,255,.45) 96.7%, transparent 97.2%);
  background-repeat:no-repeat; background-position:center;
  background-size: 46vmin 46vmin, 46vmin 46vmin, 32vmin 32vmin, 18vmin 18vmin;
  filter:drop-shadow(0 0 10px rgba(137,180,255,.35)); opacity:0;
  animation: ringPop .65s ease-out .05s forwards, ringFade .22s ease-out .56s forwards;
}
@keyframes ringPop{0%{opacity:0; transform:translateY(-50%) scale(.55)}60%{opacity:1; transform:translateY(-50%) scale(1.08)}100%{opacity:1; transform:translateY(-50%) scale(1)}}
@keyframes ringFade{to{opacity:0; filter:drop-shadow(0 0 0 rgba(137,180,255,0))}}
.intro-underlay::after{
  content:""; position:fixed; left:var(--sidebarW); right:0; top:50%; transform:translateY(-50%);
  height:clamp(300px,62vh,620px); margin:0 6vw;
  background-image:
    linear-gradient(90deg, transparent 49.7%, rgba(207,225,255,.9) 50%, transparent 50.3%),
    linear-gradient(0deg,  transparent 49.7%, rgba(207,225,255,.9) 50%, transparent 50.3%);
  background-repeat:no-repeat; background-position:center;
  background-size: 0% 1px, 1px 0%; filter:drop-shadow(0 0 6px rgba(137,180,255,.3));
  animation: linesGrow .52s cubic-bezier(.2,.7,.2,1) .12s forwards;
}
@keyframes linesGrow{to{background-size: 100% 1px, 1px 100%}}

@media (prefers-reduced-motion: reduce){
  .intro-underlay::before, .intro-underlay::after{ animation:none !important; opacity:.6 }
}

/* ====== Hero / LOGO ====== */
.hero{min-height:100svh; display:grid; grid-template-columns: var(--sidebarW) 1fr; position:relative; z-index:2; align-items:center}
.hero::before{display:none}
.hero:has(.logo)::before{content:""; position:absolute; left:calc(var(--sidebarW) + 8vw); right:8vw; top:50%; transform:translateY(-50%); height:clamp(260px,44vmin,520px); pointer-events:none; z-index:1; background: radial-gradient(closest-side, var(--ink) 0 56%, rgba(0,0,0,0) 60%); filter:blur(1px)}
.hero-inner{grid-column:2 / 3; display:flex; flex-direction:column; align-items:center; gap:14px; text-align:center; position:relative; z-index:2}
.logo-wrap{width:min(26vmin,220px); aspect-ratio:1/1; display:grid; place-items:center; position:relative; z-index:2}
.logo{width:100%; filter:drop-shadow(0 0 18px rgba(137,180,255,.25)); opacity:0; position:relative; z-index:2; animation:logoIn .6s .25s both ease, flicker 6s 2s infinite steps(2)}
@keyframes logoIn{from{transform:scale(.6) rotate(-8deg); opacity:0} to{transform:scale(1) rotate(0); opacity:1}}
@keyframes flicker{0%,94%,96%,100%{filter:drop-shadow(0 0 18px rgba(137,180,255,.25))}95%,97%{filter:drop-shadow(0 0 0 rgba(137,180,255,0))}}
.logo-wrap::before{content:""; position:absolute; inset:-12%; border-radius:50%; background: radial-gradient(circle at 50% 50%, rgba(137,180,255,.32), rgba(137,180,255,.10) 55%, transparent 75%); filter: blur(18px); opacity:.22; transform:scale(.98); animation: halo 4.2s ease-in-out 1.2s infinite; z-index:0}
@keyframes halo{0%,100%{opacity:.18; transform:scale(.96); filter:blur(16px)}50%{opacity:.32; transform:scale(1.05); filter:blur(22px)}}

/* ====== 字體與分隔線 ====== */
h1,h2,h3{margin:0; line-height:1.25}
.title-zh{font-size:clamp(20px,3.8vmin,36px); letter-spacing:.12em}
.title-en{font-size:clamp(14px,2.4vmin,18px); opacity:.8; letter-spacing:.16em}
.divider{ width:220px; height:1px; background:linear-gradient(90deg, transparent, var(--line), transparent); opacity:.7; margin:6px 0 2px }

/* ========================================================
   Orbit-Lines Pro：側邊欄（水玻璃 + 星空/星座/流星 + 雙導軌）
   ======================================================== */
.sidebar{
  position: fixed; inset:0 auto 0 0; width:var(--sidebarW);
  padding:16px 14px; color:var(--text); z-index:20;
  background:
    linear-gradient(180deg, var(--glassShade), var(--glassShade)),
    linear-gradient(180deg, var(--glassTop), var(--glassBot)) padding-box;
  border-right:1px solid rgba(207,225,255,.22);
  backdrop-filter: blur(var(--glassBlur)) saturate(var(--glassSat));
  -webkit-backdrop-filter: blur(var(--glassBlur)) saturate(var(--glassSat));
  box-shadow: 0 10px 30px rgba(0,0,0,.38);
  overflow-y:auto; overscroll-behavior:contain; scrollbar-gutter:stable both-edges
}
/* 水玻璃覆層 */
.sidebar::before{
  content:""; position:absolute; inset:0; pointer-events:none; z-index:0; opacity:.55;
  background:
    linear-gradient(140deg, rgba(255,255,255,.16) 0%, rgba(255,255,255,0) 35% 65%, rgba(255,255,255,.12) 100%),
    linear-gradient(135deg, rgba(207,225,255,.06) 0 1px, transparent 1px),
    linear-gradient(45deg , rgba(207,225,255,.05) 0 1px, transparent 1px),
    repeating-radial-gradient(circle at 20% 30%, rgba(255,255,255,.05) 0 1px, transparent 1.2px 6px);
  background-size: 220% 220%, 26px 26px, 26px 26px, auto;
  background-position: -40% -20%, center, center, center;
  mix-blend-mode:overlay;
  animation: glassDrift 22s ease-in-out infinite alternate;
}
@keyframes glassDrift{ to{ background-position: 10% 20%, center, center, center } }

/* 星空/星座/流星 */
.sidebar::after{
  content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen; z-index:1;
  background:
    radial-gradient(60% 40% at 40% 20%, rgba(137,180,255,.10), transparent 70%),
    radial-gradient(50% 35% at 80% 65%, rgba(137,180,255,.08), transparent 70%),
    radial-gradient(circle at 22% 10%, rgba(255,255,255,.52) 1.2px, transparent 2px),
    radial-gradient(circle at 58% 26%, rgba(255,255,255,.42) 1.6px, transparent 2.2px),
    radial-gradient(circle at 34% 72%, rgba(255,255,255,.42) 1.2px, transparent 2px),
    radial-gradient(circle at 78% 48%, rgba(255,255,255,.40) 1.0px, transparent 2px),
    radial-gradient(circle at 14% 38%, rgba(255,255,255,.38) 1.3px, transparent 2px),
    radial-gradient(circle at 66% 82%, rgba(255,255,255,.40) 1.4px, transparent 2px),
    radial-gradient(circle at 86% 14%, rgba(255,255,255,.44) 1.5px, transparent 2.2px),
    radial-gradient(circle at 42% 54%, rgba(255,255,255,.36) .9px , transparent 1.8px),
    radial-gradient(circle at 24% 62%, rgba(255,255,255,.40) 1.2px, transparent 2px),
    linear-gradient(128deg, rgba(207,225,255,.26), rgba(207,225,255,.26)) 24% 62%/ 70px 1px no-repeat,
    linear-gradient(16deg , rgba(207,225,255,.22), rgba(207,225,255,.22)) 31% 58%/ 56px 1px no-repeat,
    linear-gradient(115deg, rgba(207,225,255,.26), rgba(207,225,255,.26)) 28% 22%/ 86px 1px no-repeat,
    linear-gradient(30deg , rgba(207,225,255,.22), rgba(207,225,255,.22)) 36% 26%/ 58px 1px no-repeat,
    linear-gradient(72deg , rgba(207,225,255,.22), rgba(207,225,255,.22)) 40% 68%/ 74px 1px no-repeat,
    linear-gradient(160deg, rgba(207,225,255,.20), rgba(207,225,255,.20)) 70% 52%/ 66px 1px no-repeat,
    linear-gradient(105deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.95) 40%, rgba(255,255,255,0) 70%) 0% -20%/ 130px 1px no-repeat,
    linear-gradient(105deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.85) 40%, rgba(255,255,255,0) 70%) 30% -30%/ 98px 1px no-repeat;
  opacity:.16;
  animation: cosmosDrift 16s ease-in-out infinite alternate, shooting1 6.5s linear infinite, shooting2 9s linear infinite;
}
@keyframes cosmosDrift{ from{opacity:.12; background-position:0 0} to{opacity:.18; background-position:2px 4px} }
@keyframes shooting1{ to{ background-position: 0 120% ,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0, 24% 62%,31% 58%, 28% 22%,36% 26%,40% 68%,70% 52%, 110% 140%,30% -30% } }
@keyframes shooting2{ to{ background-position: 0 120% ,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0, 24% 62%,31% 58%, 28% 22%,36% 26%,40% 68%,70% 52%, 0% -20%,140% 110% } }
html[data-theme="light"] .sidebar::after{ opacity:.11 }

/* 捲軸 */
.sidebar::-webkit-scrollbar{ width:10px }
.sidebar::-webkit-scrollbar-track{ background:transparent }
.sidebar::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.22); border-radius:10px; border:2px solid transparent; background-clip:padding-box }
.sidebar:hover::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.32) }
html[data-theme="light"] .sidebar::-webkit-scrollbar-thumb{ background:rgba(11,22,54,.25) }

/* 品牌區（導軌起點） */
.brand{ display:flex; align-items:center; gap:10px; padding:6px 8px 10px 26px; border:none; background:none; position:relative }
.brand::before{ content:""; position:absolute; left:12px; top:50%; width:6px; height:6px; border-radius:50%; background:radial-gradient(circle, var(--line) 0 45%, transparent 46% 100%); transform:translateY(-50%); opacity:.9; box-shadow:0 0 8px rgba(137,180,255,.35) }
.brand img{ width:30px; height:30px }
.brand b{ letter-spacing:.08em }

/* 導航容器 + 雙導軌 */
.sidenav{ position:relative; display:grid; gap:6px; margin-top:6px; padding-left:26px }
.sidenav::before{
  content:""; position:absolute; left:12px; top:0; bottom:0; width:1px;
  background-image:
    linear-gradient(180deg, rgba(207,225,255,.10), rgba(207,225,255,.36), rgba(207,225,255,.10)),
    radial-gradient(circle, rgba(255,255,255,.95) 0 2px, transparent 2.4px);
  background-repeat:no-repeat,no-repeat;
  background-size:100% 300%, 8px 8px;
  background-position:0 0, 12px -10%;
  box-shadow:0 0 10px rgba(137,180,255,.12);
  animation: railAnim1 7.2s linear infinite;
}
.sidenav::after{
  content:""; position:absolute; left:18px; top:0; bottom:0; width:1px;
  background-image:
    linear-gradient(180deg, rgba(207,225,255,.16), rgba(207,225,255,.44), rgba(207,225,255,.16)),
    radial-gradient(circle, rgba(255,255,255,.85) 0 2px, transparent 2.4px);
  background-repeat:no-repeat,no-repeat;
  background-size:100% 300%, 8px 8px;
  background-position:0 300%, 18px 110%;
  box-shadow:0 0 12px rgba(137,180,255,.16);
  animation: railAnim2 8.2s linear infinite;
}
@keyframes railAnim1{ 0%{ background-position: 0 0,     12px -10% } 100%{ background-position: 0 300%, 12px 110% } }
@keyframes railAnim2{ 0%{ background-position: 0 300%, 18px 110% } 100%{ background-position: 0 0,    18px -10% } }

/* 主要連結 */
.nav-item{
  position:relative; display:flex; align-items:center; gap:10px; padding:10px 10px; border:none; border-radius:10px; background:transparent; color:var(--text); text-decoration:none; letter-spacing:.06em;
  isolation:isolate; --edge: rgba(207,225,255,.22); --p: 0%;
  background-image:
    linear-gradient(var(--edge),var(--edge)),
    linear-gradient(var(--edge),var(--edge)),
    linear-gradient(var(--edge),var(--edge)),
    linear-gradient(var(--edge),var(--edge));
  background-repeat:no-repeat;
  background-size: var(--p) 1px, var(--p) 1px, 1px var(--p), 1px var(--p);
  background-position: left 8px top 8px, right 8px bottom 8px, left 8px bottom 8px, right 8px top 8px;
  transition: transform .14s ease, background .22s ease, color .22s ease, box-shadow .22s ease, background-size .35s ease
}
.nav-item::before{ content:""; position:absolute; left:-22px; top:50%; width:26px; height:1px; background:linear-gradient(90deg, rgba(207,225,255,.22), transparent); transform:translateY(-50%); z-index:-1; transition: width .35s ease, left .35s ease, background .35s ease, opacity .35s ease, transform .25s ease }
.nav-item::after{ content:""; position:absolute; left:-18px; top:50%; width:6px; height:6px; border-radius:50%; background:radial-gradient(circle, rgba(207,225,255,.9) 0 45%, transparent 46% 100%); transform:translateY(-50%); opacity:.9; transition: filter .25s ease, transform .25s ease, box-shadow .25s ease }
.nav-item:hover{ --p:0%; transform: translateX(2px) }
.nav-item:hover::before{ left:-28px; width: calc(100% + 42px); background:linear-gradient(90deg, transparent, var(--accent), transparent); opacity:.95 }
.nav-item:hover::after{
  width:8px; height:8px; border-radius:50%;
  background:
    radial-gradient(circle, #fff 0 40%, transparent 42%),
    conic-gradient(from .125turn, rgba(137,180,255,.0) .40turn, rgba(137,180,255,.75) .50turn .52turn, rgba(137,180,255,.0) .60turn 1turn);
  box-shadow:0 0 10px rgba(137,180,255,.55), 0 0 2px rgba(137,180,255,.9);
  filter:brightness(1.2);
  transform:translateY(-50%) scale(1.1);
  animation: starPulse 1.6s ease-in-out infinite;
}
@keyframes starPulse{ 0%,100%{ box-shadow:0 0 8px rgba(137,180,255,.45), 0 0 1px rgba(137,180,255,.9) } 50%{ box-shadow:0 0 14px rgba(137,180,255,.75), 0 0 2px rgba(137,180,255,1) } }

/* 目前頁：右下角折角 */
.nav-item.active{ --p:0%; background:none; color:#fff; position:relative }
.nav-item.active{
  background-image:
    conic-gradient(from .75turn at calc(100% - 8px) calc(100% - 8px), transparent 0turn .735turn, var(--accent) .745turn .755turn, transparent .765turn 1turn),
    linear-gradient(var(--accent),var(--accent)),
    linear-gradient(var(--accent),var(--accent)),
    conic-gradient(from .75turn at calc(100% - 13px) calc(100% - 13px), transparent 0turn .735turn, rgba(255,255,255,.6) .745turn .755turn, transparent .765turn 1turn),
    linear-gradient(rgba(255,255,255,.6),rgba(255,255,255,.6)),
    linear-gradient(rgba(255,255,255,.6),rgba(255,255,255,.6));
  background-repeat:no-repeat;
  background-size: 16px 16px, 18px 1px, 1px 14px, 12px 12px, 10px 1px, 1px 8px;
  background-position: right 8px bottom 8px, right 8px bottom 8px, right 8px bottom 8px, right 13px bottom 13px, right 13px bottom 13px, right 13px bottom 13px;
}

/* 群組 + caret（三角形強化） */
.nav-group{ display:grid; grid-template-columns: 1fr auto; align-items:center; gap:4px; padding:2px 0; border:none; background:none; box-shadow:none; position:relative }
.caret{
  all:unset; cursor:pointer; width:28px; height:28px;
  display:grid; place-items:center; border-radius:8px; position:relative; z-index:2;
  background:transparent; transition: transform .12s ease, opacity .22s ease, background .22s ease
}
.caret::before{
  content:""; width:9px; height:9px;
  border-right:2px solid var(--line); border-bottom:2px solid var(--line);
  transform: rotate(-45deg); opacity:.95;
  filter: drop-shadow(0 0 2px rgba(137,180,255,.35));
  transition: transform .22s ease, border-color .22s ease, opacity .22s ease;
}
.nav-group[data-open="true"] .caret::before{ transform: rotate(45deg) }
.caret:hover{ background:rgba(255,255,255,.05) }
.caret:focus-visible{ outline:none; box-shadow:0 0 0 2px rgba(137,180,255,.45) inset }

/* 子清單 */
.nav-sub{ grid-column:1 / -1; margin:4px 0 8px; padding:4px 0 6px 14px; display:grid; gap:6px; border-left:1px dashed rgba(207,225,255,.16); background:transparent; max-height:0; overflow:hidden; opacity:0; transform:translateY(-2px); transition:max-height .28s ease, opacity .28s ease, transform .28s ease }
.nav-group[data-open="true"] .nav-sub{ opacity:1; transform:translateY(0) }

/* 子連結 */
.subbtn{ display:block; padding:8px 10px; border:none; border-radius:10px; color:var(--text); text-decoration:none; background:transparent; position:relative; letter-spacing:.04em; --lv:1; --edge: rgba(207,225,255,.18); --p:0%; isolation:isolate; background-image: linear-gradient(var(--edge),var(--edge)), linear-gradient(var(--edge),var(--edge)), linear-gradient(var(--edge),var(--edge)), linear-gradient(var(--edge),var(--edge)); background-repeat:no-repeat; background-size: var(--p) 1px, var(--p) 1px, 1px var(--p), 1px var(--p); background-position: left 8px top 6px, right 8px bottom 6px, left 8px bottom 6px, right 8px top 6px; transition: transform .12s ease, background-size .30s ease, box-shadow .18s ease }
.subbtn::before{ content:""; position:absolute; left:calc(-18px + (var(--lv) - 1) * 12px); top:50%; width:14px; height:1px; background:linear-gradient(90deg, rgba(207,225,255,.18), transparent); transform:translateY(-50%); z-index:-1; transition: width .35s ease, left .35s ease }
.subbtn{ padding-left: calc(10px + var(--lv) * 10px) }
.subbtn:hover{ --p:0%; transform:translateX(2px) }
.subbtn:hover::before{ left:-18px; width: calc(100% + 30px); background:linear-gradient(90deg, transparent, rgba(207,225,255,.5), transparent) }
.subbtn.active{ --p:0%; background:none; color:#fff; position:relative }
.subbtn.active{ background-image: conic-gradient(from .75turn at calc(100% - 8px) calc(100% - 6px), transparent 0turn .735turn, var(--accent) .745turn .755turn, transparent .765turn 1turn), linear-gradient(var(--accent),var(--accent)), linear-gradient(var(--accent),var(--accent)); background-repeat:no-repeat; background-size: 14px 14px, 14px 1px, 1px 10px; background-position: right 8px bottom 6px, right 8px bottom 6px, right 8px bottom 6px }

/* 可及性：鍵盤焦點 */
.nav-item:focus-visible, .subbtn:focus-visible, .caret:focus-visible{ outline:none; box-shadow:0 0 0 2px rgba(137,180,255,.55) inset, 0 0 0 2px rgba(137,180,255,.25); background:rgba(137,180,255,.12) }

/* ====== 主題切換按鈕 ====== */
.theme-toggle{ all:unset; cursor:pointer; margin-left:auto; width:34px; height:34px; border-radius:50%; display:grid; place-items:center; background:rgba(255,255,255,.06); box-shadow: inset 0 0 0 1px rgba(255,255,255,.18); transition: transform .12s ease, box-shadow .22s ease, background .22s ease }
.theme-toggle:hover{ transform:translateY(-1px); box-shadow: inset 0 0 0 1px rgba(255,255,255,.26), 0 0 8px rgba(137,180,255,.22) }
.theme-toggle::before{ content:""; width:16px; height:16px; border-radius:50%; background: radial-gradient(circle at 30% 30%, #fff 52%, transparent 53%); box-shadow: 8px 0 0 0 rgba(255,255,255,.18) inset }
html[data-theme="light"] .theme-toggle::before{ background: radial-gradient(circle at 50% 50%, #0b1636 55%, transparent 56%); box-shadow:none }

/* ====== 內容區與卡片 ====== */
main{margin-left:var(--sidebarW); padding:40px 8vw 120px; position:relative; z-index:1}
.card{ border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); border-radius:18px; padding:22px; box-shadow:var(--shadow); margin-top:20px }
/* 讓卡片可在需要時撐滿（供左右等高用） */
.about-grid > .card{ display:flex; flex-direction:column }

html[data-theme="light"] .card{ border-color:rgba(11,22,54,.14) }
.card h3{font-weight:600; letter-spacing:.06em}
.card p{opacity:.85}

/* ====== 頁尾 ====== */
.site-footer{ width:100%; display:grid; grid-template-columns: var(--sidebarW) 1fr; border-top:1px solid rgba(255,255,255,.14); color:#cfe1ff; position:relative; z-index:1 }
.site-footer .footer-inner{ grid-column:2 / 3; display:grid; place-items:center; text-align:center; padding:24px 16px 56px; opacity:.85 }

/* ====== 響應式 ====== */
@media (max-width: 900px){ :root{ --sidebarW: min(68vw, 320px) } .sidebar{width:var(--sidebarW); max-width:320px} main{margin-left:var(--sidebarW)} }

/* ====== 減少動作偏好 ====== */
@media (prefers-reduced-motion: reduce){
  .logo{animation:none; opacity:1}
  .logo-wrap::before{animation:none; opacity:.25}
  .sidenav::before,.sidenav::after{animation:none}
  .sidebar::before,.sidebar::after{animation:none}
}

/* —— 分頁主標題（非首頁） —— */
.page-title{ font-size: clamp(28px, 5.6vmin, 52px); letter-spacing: .18em; text-shadow: 0 0 16px rgba(137,180,255,.12) }
.page-sub{ font-size: clamp(13px, 2.2vmin, 16px); opacity: .82; letter-spacing: .14em }

/* ========================================================
   About Page Modules v2 — 歷史沿革 / 網站日誌 / 版本資訊 / 錯誤回報
   ======================================================== */

/* 共用：卡片內的網格（控制版心） */
.about-grid{ display:grid; gap:18px; margin-top:24px }   /* 與上方介紹卡片確實分開 */
.about-grid .card h3{ letter-spacing:.12em }

/* 版面：版本在左、日誌在右 ─ 兩張卡同列等高 */
@media (min-width: 1100px){
  .about-grid{
    grid-template-columns: 1.15fr 1fr;
    align-items: stretch;                     /* 等高，底邊對齊 */
  }
  .about-grid > .card:nth-child(1){ grid-column: 1 / -1 }  /* 歷史沿革滿寬 */
  .about-grid > .card:nth-child(3){ grid-column: 1 / 2 }   /* 版本在左 */
  .about-grid > .card:nth-child(2){ grid-column: 2 / 3 }   /* 日誌在右 */
  .about-grid > .card:nth-child(2),
  .about-grid > .card:nth-child(3){ height:100% }          /* 撐滿列高 */
}

/* ======================= 1) 歷史沿革 ======================= */
.card:has(.timeline){ overflow:hidden }
.timeline{
  position:relative; padding:12px 12px 12px 28px; max-height:clamp(280px,40vh,520px);
  overflow:auto; scrollbar-gutter:stable; isolation:isolate;
  background:
    linear-gradient(60deg , rgba(207,225,255,.06) 0 1px, transparent 1px) top/ 600px 100% no-repeat,
    linear-gradient(-60deg, rgba(207,225,255,.05) 0 1px, transparent 1px) top/ 700px 100% no-repeat;
  animation: tlWeave 18s ease-in-out infinite alternate;
  -webkit-mask: linear-gradient(to bottom, transparent, #000 12px calc(100% - 12px), transparent);
          mask: linear-gradient(to bottom, transparent, #000 12px calc(100% - 12px), transparent);
}
@keyframes tlWeave{ to{ background-position: -60px 0, 40px 0 } }
.timeline::before{ content:""; position:absolute; left:12px; top:4px; bottom:4px; width:1px;
  background:linear-gradient(180deg, rgba(207,225,255,.10), rgba(207,225,255,.38), rgba(207,225,255,.10));
  box-shadow:0 0 8px rgba(137,180,255,.16)
}
.timeline::after{ content:""; position:absolute; left:12px; top:-10%; width:8px; height:8px; border-radius:50%;
  background:radial-gradient(circle, rgba(255,255,255,.95) 0 2px, transparent 2.4px);
  filter:drop-shadow(0 0 6px rgba(137,180,255,.45)); animation: tlCruise 12s linear infinite }
@keyframes tlCruise{ to{ transform: translateY(120%) } }

/* 捲軸美化（沿革） */
.timeline::-webkit-scrollbar{ width:10px }
.timeline::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.20); border-radius:10px }

/* 年表項（重新美化：未展開變扁） */
.tl-item{
  position:relative; margin:10px 0; padding:12px 12px 10px 16px; border-radius:14px;
  background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.12); cursor:pointer;
  transition:background .22s ease, border-color .22s ease, transform .22s ease, padding .22s ease
}
/* 左側節點 */
.tl-item::before{
  content:""; position:absolute; left:-2px; top:16px; width:10px; height:10px; border-radius:50%;
  background:radial-gradient(circle, #fff 0 40%, transparent 42%);
  box-shadow:0 0 10px rgba(137,180,255,.55), 0 0 1px rgba(137,180,255,.9)
}
/* 與導軌的斜向連接線 */
.tl-item::after{
  content:""; position:absolute; left:6px; top:20px; height:1px; width:64px;
  background:linear-gradient(90deg, rgba(207,225,255,.0), rgba(207,225,255,.55), rgba(207,225,255,.0));
  transform-origin:left center; transform:rotate(8deg); opacity:.85; filter:drop-shadow(0 0 4px rgba(137,180,255,.16))
}
.tl-item:nth-child(4n+2)::after{ width:78px; transform:rotate(-10deg) }
.tl-item:nth-child(4n+3)::after{ width:52px; transform:rotate(6deg) }
.tl-item:nth-child(4n+4)::after{ width:72px; transform:rotate(-14deg) }

/* 未展開（壓扁 / 更俐落） */
.tl-item:not(.is-open):not([aria-expanded="true"]):not(:target){
  padding:8px 10px 6px 16px;
  background:rgba(255,255,255,.035);
}
.tl-item:not(.is-open):not([aria-expanded="true"]):not(:target)::before{ width:8px; height:8px; top:12px; box-shadow:0 0 6px rgba(137,180,255,.45), 0 0 1px rgba(137,180,255,.9) }
.tl-item:not(.is-open):not([aria-expanded="true"]):not(:target)::after{ top:16px; width:48px; opacity:.7 }
.tl-item:nth-child(odd){ transform:translateX(2px) }
.tl-item:hover{ background:rgba(255,255,255,.065); border-color:rgba(137,180,255,.28) }

.tl-time{ font-size:12px; letter-spacing:.14em; color:var(--muted) }
.tl-title{ font-weight:600; letter-spacing:.08em; margin-top:2px }
.tl-desc{
  max-height:0; opacity:0; overflow:hidden; transform:translateY(-2px);
  transition:max-height .32s ease, opacity .28s ease, transform .28s ease; will-change:max-height
}
/* 展開狀態 */
.tl-item.is-open .tl-desc,
.tl-item[aria-expanded="true"] .tl-desc,
.tl-item:target .tl-desc{ max-height:160px; opacity:.9; transform:translateY(0); margin-top:8px }
.tl-item.is-open{ border-color:rgba(137,180,255,.38); box-shadow:inset 0 0 0 1px rgba(137,180,255,.18) }

/* ======================= 2) 網站日誌 ======================= */
.card:has(.changelog){ overflow:hidden }
.changelog{
  padding:6px 8px; max-height:clamp(260px,34vh,420px); overflow:auto;
  -webkit-mask:linear-gradient(to bottom, transparent, #000 10px calc(100% - 10px), transparent);
          mask:linear-gradient(to bottom, transparent, #000 10px calc(100% - 10px), transparent)
}
/* 捲軸美化（統一成沿革樣式） */
.changelog::-webkit-scrollbar{ width:10px }
.changelog::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.20); border-radius:10px }

.log{ list-style:none; margin:0; padding:0; display:grid; gap:10px }
.log li{ position:relative; padding:10px 12px 10px 14px; border-radius:12px; background:rgba(255,255,255,.05); border:1px dashed rgba(207,225,255,.18); transition:border-color .18s ease, background .18s ease }
.log li:hover{ border-color:rgba(137,180,255,.32); background:rgba(255,255,255,.065) }
.log .date{ display:inline-block; font-size:12px; letter-spacing:.14em; color:var(--muted); margin-right:8px }
.log .tag{ display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; letter-spacing:.12em; background:rgba(137,180,255,.14); color:#fff; margin-right:6px }

/* ======================= 3) 版本資訊（重製樣式） ======================= */
.card:has(.ver-grid){ overflow:hidden }
.ver-grid{
  display:grid; grid-template-columns:1fr; gap:12px;
  max-height:clamp(260px,34vh,420px); overflow:auto; padding:8px 0;
  /* 移除會造成內容被切掉的漸層遮罩 */
  -webkit-mask:none; mask:none;
}
/* 捲軸美化（與沿革/日誌一致） */
.ver-grid::-webkit-scrollbar{ width:10px }
.ver-grid::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.20); border-radius:10px }

@media (min-width: 640px){ .ver-grid{ grid-template-columns:repeat(2,minmax(220px,1fr)) } }
.ver{
  position:relative; border-radius:16px; border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
  padding:14px 14px 12px;
  transition:transform .16s ease, border-color .18s ease, background .18s ease
}
.ver:hover{ transform:translateY(-1px); border-color:rgba(137,180,255,.32); background:rgba(255,255,255,.07) }
.ver h4{ margin:0 0 8px; letter-spacing:.12em }
.ver .pill{ display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; letter-spacing:.14em; background:rgba(137,180,255,.22) }
.ver small{ display:block; color:var(--muted); margin-top:6px }

/* 目前版本：更亮，但不使用右下折角，避免被裁切 */
.ver-grid .ver:first-child{
  grid-column:1 / -1; padding:18px 18px 16px;
  border-color:rgba(137,180,255,.55);
  background:linear-gradient(180deg, rgba(137,180,255,.12), rgba(255,255,255,.04));
  box-shadow:0 12px 28px rgba(0,0,0,.25), inset 0 0 0 1px rgba(137,180,255,.22)
}
.ver-grid .ver:first-child::after{ display:none } /* 移除折角裝飾，避免視覺被裁 */

/* ======================= 4) 錯誤回報（樣式，尚未串接） ======================= */
.feedback{ display:grid; gap:10px }
.feedback .row{ display:grid; gap:10px; grid-template-columns: 1fr 1fr }
@media(max-width: 720px){ .feedback .row{ grid-template-columns:1fr } }
.input, .textarea, .select{
  appearance:none; width:100%; padding:10px 12px; border-radius:12px; color:var(--text);
  border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06);
  transition: box-shadow .18s ease, border-color .18s ease, background .18s ease
}
.input::placeholder,.textarea::placeholder{ color:rgba(255,255,255,.55) }
.input:focus,.textarea:focus,.select:focus{ outline:none; box-shadow:0 0 0 2px rgba(137,180,255,.45); border-color:rgba(137,180,255,.55); background:rgba(255,255,255,.08) }
.textarea{ min-height:120px; resize:vertical }

.btn{ all:unset; cursor:pointer; display:inline-grid; place-items:center; padding:10px 14px; border-radius:12px; letter-spacing:.12em; font-weight:600; color:#0b1636; background:linear-gradient(180deg,#cfe1ff,#89b4ff); box-shadow:0 10px 24px rgba(0,0,0,.22), inset 0 0 0 1px rgba(255,255,255,.55) }
.btn:hover{ filter:brightness(1.03) }
.btn:active{ transform:translateY(1px) }

.feedback .pending{ font-size:12px; letter-spacing:.12em; color:var(--muted) }
