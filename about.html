<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>關於本網站｜暗夜飛鳶線上資訊庫</title>
    <link rel="stylesheet" href="assets/css/site.css">
    <style>
      .page-title{ font-size: clamp(28px, 5.6vmin, 52px); letter-spacing: .18em; text-shadow: 0 0 16px rgba(137,180,255,.12) }
      .page-sub{ font-size: clamp(13px, 2.2vmin, 16px); opacity: .82; letter-spacing: .14em }
    </style>
  </head>
  <body>
    <!-- 背景層 -->
    <canvas id="starfield"></canvas>
    <div class="twinkle" id="tw"></div>

    <!-- 下層線條裝飾 -->
    <div class="intro-underlay" data-autoremove></div>

    <!-- 主視覺 -->
    <section class="hero" id="top">
      <div class="hero-inner">
        <div class="divider"></div>
        <h1 class="title-zh page-title">關於本網站</h1>
        <h2 class="title-en page-sub">關於本網站｜暗夜飛鳶線上資訊庫</h2>
      </div>
    </section>

    <!-- 側邊欄 -->
    <aside class="sidebar">
      <div class="brand">
        <img src="logo/logo_white.png" alt="logo mini"/>
        <b>DNFK Studios</b>
      </div>
      <nav class="sidenav">
        <a class="nav-item" href="index.html">首頁</a>

        <div class="nav-group" id="grp-docs" data-open="false">
          <a class="nav-item" href="documents/index.html">公文</a>
          <button class="caret" aria-label="展開公文" aria-expanded="false"></button>
          <div class="nav-sub"></div>
        </div>

        <div class="nav-group" id="grp-meeting" data-open="false">
          <a class="nav-item" href="meeting/index.html">會議</a>
          <button class="caret" aria-label="展開會議" aria-expanded="false"></button>
          <div class="nav-sub"></div>
        </div>

        <div class="nav-group" id="grp-rule" data-open="false">
          <a class="nav-item" href="rule/index.html">規章</a>
          <button class="caret" aria-label="展開規章" aria-expanded="false"></button>
          <div class="nav-sub"></div>
        </div>

        <div class="nav-group" id="grp-plan" data-open="false">
          <a class="nav-item" href="plan/index.html">企劃</a>
          <button class="caret" aria-label="展開企劃" aria-expanded="false"></button>
          <div class="nav-sub"></div>
        </div>

        <a class="nav-item active" href="about.html" aria-current="page">關於本網站</a>
      </nav>
    </aside>

    <!-- 內容區 -->
    <main>
      <!-- 介紹 -->
      <section class="card">
        <h3>暗夜飛鳶工作室｜線上資訊庫  介紹</h3>
        <p>為便宜公告、整理暗夜飛鳶工作室之資訊，管理處於2023年7月中旬委託本工作室科技部（時技術科技部門）建立一統一資訊的資訊庫，並於2023年9月完成。隨著本工作室成員增加，舊資訊網站以不堪負荷，因此，於2025年7月本工作室科技部修整網站，製作成如今的線上資訊庫。</p>
        <p>「線上資訊庫」致力於集中規整本工作室的規章、企劃、公文與會議相關文書，以利相關人員查閱、追溯。</p>
      </section>

      <!-- 模組 -->
      <section class="about-grid">

        <!-- 1) 歷史沿革（滿寬） -->
        <section class="card">
          <h3>歷史沿革</h3>
          <div class="timeline">
            <div class="tl-item">
              <div class="tl-time">2023.07</div>
              <div class="tl-title">資訊庫專案啟動</div>
              <p class="tl-desc">管理處委託科技部建置統一資訊庫。</p>
            </div>
            <div class="tl-item">
              <div class="tl-time">2023.09</div>
              <div class="tl-title">初版上線</div>
              <p class="tl-desc">完成第一版文件彙整與公開。</p>
            </div>
            <div class="tl-item">
              <div class="tl-time">2025.07</div>
              <div class="tl-title">新版改版規劃</div>
              <p class="tl-desc">因成員與資料量增長，啟動新版視覺與資訊架構。</p>
            </div>
            <div class="tl-item">
              <div class="tl-time">2025.08</div>
              <div class="tl-title">Orbit-Lines Pro 佈署</div>
              <p class="tl-desc">導入深色水玻璃側欄、雙導軌與星空動畫。</p>
            </div>
          </div>
        </section>

        <!-- 2) 網站日誌（右） -->
        <section class="card">
          <h3>網站日誌</h3>
          <div class="changelog">
            <ul class="log">
              <li>
                <span class="date">2025-08-16</span>
                <span class="tag">New</span>
                新增「歷史沿革／網站日誌／版本資訊／錯誤回報」模組樣式。
              </li>
              <li>
                <span class="date">2025-08-15</span>
                <span class="tag">UX</span>
                側欄改為深色水玻璃、雙導軌，加入巡航微光與星座點綴。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
              <li>
                <span class="date">2025-08-12</span>
                <span class="tag">Fix</span>
                修正首頁標題層次、移除不必要的霧面遮罩。
              </li>
            </ul>
          </div>
        </section>

        <!-- 3) 網站版本（左） -->
        <section class="card">
          <h3>網站版本</h3>
          <div class="ver-grid">
            <div class="ver">
              <h4>v2.7「Orbit-Lines Pro」</h4>
              <span class="pill">目前版本</span>
              <small>Build 2025-08-16</small>
              <small>重點：深色水玻璃、雙導軌巡航、節點星芒/尾光、側欄星座</small>
            </div>
            <div class="ver">
              <h4>v2.6</h4>
              <small>Build 2025-08-10</small>
              <small>重點：側欄去框化、右下折角高亮、Hero 替換</small>
            </div>
            <div class="ver">
              <h4>v2.5</h4>
              <small>Build 2025-08-01</small>
              <small>重點：全站結構調整、卡片化內容區</small>
            </div>
          </div>
        </section>

        <!-- 4) 錯誤回報（滿寬，置於版本/日誌下方） -->
        <section class="card">
          <h3>錯誤回報</h3>
          <form class="feedback" action="#" method="post" onsubmit="return false;">
            <div class="row">
              <input class="input" type="text" name="name" placeholder="您的姓名／暱稱">
              <input class="input" type="email" name="email" placeholder="聯絡 Email（選填）">
            </div>
            <select class="select" name="type">
              <option>類別：視覺/樣式</option>
              <option>連結錯誤</option>
              <option>內文錯字</option>
              <option>功能建議</option>
            </select>
            <textarea class="textarea" name="msg" placeholder="請描述遇到的錯誤或建議……"></textarea>
            <span class="pending">＊目前僅為樣式展示，待接上後台再啟用送出。</span>
            <button class="btn" type="button" disabled>送出（尚未開放）</button>
          </form>
        </section>

      </section>
    </main>

    <!-- 頁尾 -->
    <footer class="site-footer">
      <div class="footer-inner">
        <small>Copyright © 2025 DNFK Studios.</small>
      </div>
    </footer>

    <!-- 星野與互動腳本（與你原本一致） -->
    <script>
      const cvs = document.getElementById('starfield');
      const ctx = cvs.getContext('2d');
      let stars = [], W, H, sidebarPX = 0;
      function resize(){
        W = cvs.width = innerWidth;
        H = cvs.height = innerHeight;
        sidebarPX = (document.querySelector('.sidebar')?.offsetWidth) || 0;
      }
      addEventListener('resize', resize, {passive:true});
      resize();
      for(let i=0;i<160;i++){
        stars.push({ x:Math.random()*W, y:Math.random()*H, r:Math.random()*1.2+0.2, s:Math.random()*0.6+0.2, a:Math.random()*360 });
      }
      const CONSTS = [
        { points: [[0.58,0.24],[0.63,0.20],[0.68,0.23],[0.72,0.19],[0.77,0.22]] },
        { points: [[0.32,0.66],[0.36,0.62],[0.41,0.64],[0.45,0.61]] }
      ];
      function drawConstellations(t=0){
        const lineAlpha = 0.28 + 0.12*Math.sin(t/1300);
        const nodeAlpha = 0.60 + 0.25*Math.sin(t/900);
        ctx.save();
        ctx.lineWidth = 1; ctx.lineCap = 'round';
        ctx.strokeStyle = `rgba(207,225,255,${lineAlpha.toFixed(3)})`;
        ctx.fillStyle   = `rgba(255,255,255,${nodeAlpha.toFixed(3)})`;
        for(const c of CONSTS){
          const pts = c.points.map(([nx,ny])=>[ sidebarPX + nx*(W - sidebarPX), ny*H ]);
          ctx.beginPath(); ctx.moveTo(pts[0][0], pts[0][1]);
          for(let i=1;i<pts.length;i++) ctx.lineTo(pts[i][0], pts[i][1]);
          ctx.stroke();
          for(const [x,y] of pts){ ctx.beginPath(); ctx.arc(x,y,2.1,0,Math.PI*2); ctx.fill(); }
        }
        ctx.restore();
      }
      function loop(t=0){
        ctx.clearRect(0,0,W,H);
        for(const st of stars){
          st.x += st.s * 0.2; st.y += Math.sin((st.a+=0.02))*0.15;
          if(st.x>W+4) st.x=-4;
          ctx.beginPath(); ctx.arc(st.x, st.y, st.r, 0, Math.PI*2);
          ctx.fillStyle = 'rgba(255,255,255,.75)'; ctx.fill();
        }
        drawConstellations(t||0);
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);

      /* CSS 前景閃爍點 */
      const tw = document.getElementById('tw');
      const frag = document.createDocumentFragment();
      for(let i=0;i<60;i++){
        const s = document.createElement('span');
        s.style.left = (Math.random()*100)+'%';
        s.style.top = (Math.random()*100)+'%';
        s.style.animationDelay = (Math.random()*6)+'s';
        s.style.opacity = Math.random()*0.8+0.2;
        frag.appendChild(s);
      }
      tw.appendChild(frag);

      /* 側欄：目前頁/展開邏輯 */
      (() => {
        const canon = (p) => p.replace(/index\.html?$/i, "").replace(/\/+$/, "/");
        const here  = canon(location.pathname);

        document.querySelectorAll('.sidebar .nav-item[href]').forEach(a => {
          const path = canon(new URL(a.getAttribute('href'), location.href).pathname);
          if (path === here) {
            a.classList.add('active');
            a.setAttribute('aria-current','page');
          }
        });

        document.querySelectorAll('.sidebar .nav-group').forEach(group => {
          const caret      = group.querySelector('.caret');
          const sub        = group.querySelector('.nav-sub');

          function setOpen(open){
            group.dataset.open = open ? 'true' : 'false';
            caret.setAttribute('aria-expanded', String(open));
            if (open) {
              sub.style.maxHeight = sub.scrollHeight + 'px';
              sub.style.opacity = '1';
              sub.style.transform = 'translateY(0)';
            } else {
              sub.style.maxHeight = '0px';
              sub.style.opacity = '0';
              sub.style.transform = 'translateY(-2px)';
            }
          }
          setOpen(false);

          caret.addEventListener('click', (e) => {
            e.preventDefault(); e.stopPropagation();
            setOpen(group.dataset.open !== 'true');
          });

          addEventListener('resize', () => {
            if (group.dataset.open === 'true') sub.style.maxHeight = sub.scrollHeight + 'px';
          });
        });
      })();

      /* 歷史沿革：展開/收合 */
      document.querySelectorAll('.timeline .tl-item').forEach(it=>{
        it.tabIndex = 0;
        it.setAttribute('role','button');
        it.setAttribute('aria-expanded','false');
        const toggle = () => {
          const open = it.getAttribute('aria-expanded') === 'true';
          it.setAttribute('aria-expanded', String(!open));
          it.classList.toggle('is-open', !open);
        };
        it.addEventListener('click', toggle);
        it.addEventListener('keydown', e=>{
          if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); toggle(); }
        });
      });
    </script>
  </body>
</html>
